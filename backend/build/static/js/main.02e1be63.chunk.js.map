{"version":3,"sources":["components/Footer.js","components/Navbar.js","components/Button.js","services/pollService.js","components/Loader.js","hooks/useLocalVotes.js","components/Poll.js","components/PollBox.js","components/InputText.js","components/Modal.js","hooks/useModal.js","components/PollForm.js","components/PollLi.js","components/PollList.js","components/PollRes.js","App.js","index.js"],"names":["FooterEl","styled","footer","Footer","href","target","name","Nav","nav","Navbar","to","activeClassName","ButtonEl","button","props","primary","size","Button","children","onClick","baseUrl","getAll","a","fetch","response","json","getOne","id","createOne","poll","method","headers","body","JSON","stringify","createdPoll","console","log","voteOne","pollToSend","choices","data","rotate","keyframes","Div","div","Loader","useLocalVotes","useState","parse","window","localStorage","getItem","votedPolls","iCanVote","includes","voteLocal","setItem","H2","h2","Ul","ul","Li","li","Buttons","Date","span","Poll","setPoll","checkedChoice","setCheckedChoice","isLoading","setIsLoading","history","useHistory","useParams","useEffect","then","push","question","created_at","slice","map","i","choice","onChange","checkHandler","checked","type","forEach","c","p","handleSubmit","navigator","clipboard","writeText","location","PollBox","Input","input","InputText","placeholder","Background","ModalBox","ButtonX","Modal","message","createPortal","e","stopPropagation","document","getElementById","useModal","msg","modalMsg","setMessage","setModal","removeModal","Form","form","PollForm","setQuestion","setChoices","isPrivate","setIsPrivate","onSubmit","preventDefault","filteredChoices","filter","length","arr","filteredArr","Set","duplicatesExist","choicesJson","value","index","choicesCopy","changeChoiceAtIndex","PollLi","PollList","polls","setPolls","PollRes","res","sortedChoices","sort","b","votesTotal","reduce","acc","votes","Math","round","CoverDiv","App","exact","path","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.02e1be63.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nconst FooterEl = styled.footer`\r\n  height: 60px;\r\n  width: 100%;\r\n  margin-top: auto;\r\n  text-align: center;\r\n  margin-top: 0.5rem;\r\n  padding: 1rem;\r\n\r\n  font-size: 1.25rem;\r\n\r\n  a {\r\n    font-size: 1.5rem;\r\n    text-decoration: none;\r\n    color: #ff8811;\r\n    transition: all 0.2s ease;\r\n    :hover {\r\n      text-decoration: underline;\r\n    }\r\n  }\r\n  ion-icon {\r\n    font-size: 2rem;\r\n    vertical-align: bottom;\r\n  }\r\n`;\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <FooterEl>\r\n      <p>\r\n        Site made by{' '}\r\n        <a href=\"https://github.com/Arelera\" target=\"_\">\r\n          Arel <ion-icon name=\"logo-github\"></ion-icon>\r\n        </a>\r\n      </p>\r\n    </FooterEl>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import styled from 'styled-components';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Nav = styled.nav`\r\n  height: 60px;\r\n  width: 100%;\r\n  padding: 3rem 2.5rem;\r\n\r\n  background: #fafafa;\r\n  display: flex;\r\n  align-items: center;\r\n\r\n  a {\r\n    text-decoration: none;\r\n    color: #111;\r\n    :last-child {\r\n      margin: 0 auto;\r\n    }\r\n  }\r\n  h1 {\r\n    font-family: 'Arvo';\r\n    font-size: 3.5rem;\r\n    color: #ff8811;\r\n    text-shadow: 3px 3px 0px #392f5a;\r\n\r\n    transition: all 0.2s ease;\r\n    :hover {\r\n      text-shadow: 3px 3px 0px #9dd9d2;\r\n    }\r\n  }\r\n\r\n  p {\r\n    font-size: 1.5rem;\r\n    transition: all 0.2s ease;\r\n\r\n    :hover {\r\n      text-decoration: underline;\r\n      color: #9dd9d2;\r\n    }\r\n  }\r\n\r\n  .selected {\r\n    text-decoration: underline;\r\n    text-decoration-color: #9dd9d2;\r\n  }\r\n  @media screen and (max-width: 425px) {\r\n    padding: 2.5rem 0rem;\r\n  }\r\n`;\r\n\r\nconst Navbar = () => {\r\n  return (\r\n    <Nav>\r\n      <NavLink to=\"/\">\r\n        <h1>POLLLO</h1>\r\n      </NavLink>\r\n      <NavLink activeClassName=\"selected\" to=\"/create-poll\">\r\n        <p>Create Poll</p>\r\n      </NavLink>\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n","import styled from 'styled-components';\r\n\r\nconst ButtonEl = styled.button`\r\n  font-weight: 600;\r\n  font-size: 1rem;\r\n  border: 1px solid ${(props) => (props.primary ? '#ddd' : '#FF8811')};\r\n  box-shadow: 0px 2px 5px #ddd;\r\n  border-radius: 8px;\r\n  min-height: 35px;\r\n  padding: ${(props) => (props.size === 'large' ? '12px 24px' : '6px 10px')};\r\n\r\n  background: ${(props) => (props.primary ? '#FF8811' : 'transparent')};\r\n  color: ${(props) => (props.primary ? '#FFF8F0' : '#333')};\r\n  :hover {\r\n    background: ${(props) => (props.primary ? '#E07000' : '#fafafafa')};\r\n    color: ${(props) => (props.primary ? '#FFF8F0' : '#333')};\r\n  }\r\n  cursor: pointer;\r\n`;\r\n\r\nconst Button = ({ children, onClick, primary, size }) => {\r\n  return (\r\n    <ButtonEl primary={primary} size={size} onClick={onClick}>\r\n      {children}\r\n    </ButtonEl>\r\n  );\r\n};\r\n\r\nexport default Button;\r\n","const baseUrl = '/api/polls';\r\n\r\nexport const getAll = async () => {\r\n  const response = await fetch(baseUrl);\r\n  return await response.json();\r\n};\r\n\r\nexport const getOne = async (id) => {\r\n  const response = await fetch(`${baseUrl}/${id}`);\r\n  return await response.json();\r\n};\r\n\r\nexport const createOne = async (poll) => {\r\n  try {\r\n    const response = await fetch(baseUrl, {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify(poll),\r\n    });\r\n\r\n    const createdPoll = await response.json();\r\n    return createdPoll;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const voteOne = async (poll) => {\r\n  const pollToSend = { ...poll, choices: JSON.stringify(poll.choices) };\r\n  try {\r\n    const response = await fetch(baseUrl, {\r\n      method: 'PUT',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify(pollToSend),\r\n    });\r\n\r\n    const data = await response; // no need for .json()\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n","import styled, { keyframes } from 'styled-components';\r\n\r\nconst rotate = keyframes`\r\n  from {\r\n    transform: rotate(0deg);\r\n  }\r\n\r\n  to {\r\n    transform: rotate(360deg);\r\n  }\r\n`;\r\n\r\nconst Div = styled.div`\r\n  font-size: 6rem;\r\n  text-align: center;\r\n  color: #ff8811;\r\n  line-height: 1.2;\r\n  padding: 1rem;\r\n  h3 {\r\n    font-size: 3rem;\r\n    color: #ff8811;\r\n  }\r\n\r\n  ion-icon {\r\n    animation: ${rotate} 1s linear infinite;\r\n  }\r\n`;\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <Div>\r\n      <ion-icon name=\"reload-circle\"></ion-icon>\r\n      <h3>Loading</h3>\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import { useState } from 'react';\r\n\r\nconst useLocalVotes = (id) => {\r\n  const [votedPolls] = useState(\r\n    JSON.parse(window.localStorage.getItem('votedPolls')) || []\r\n  );\r\n  const iCanVote = () => {\r\n    return !votedPolls.includes(id);\r\n  };\r\n  const voteLocal = () => {\r\n    window.localStorage.setItem(\r\n      'votedPolls',\r\n      JSON.stringify([...votedPolls, id])\r\n    );\r\n  };\r\n  return { iCanVote, voteLocal };\r\n};\r\n\r\nexport default useLocalVotes;\r\n","import { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useParams } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nimport Button from './Button';\r\nimport { getOne, voteOne } from '../services/pollService';\r\nimport Loader from './Loader';\r\nimport useLocalVotes from '../hooks/useLocalVotes';\r\n\r\nconst H2 = styled.h2`\r\n  font-size: 1.75rem;\r\n  color: #333;\r\n  padding: 0.5rem 0;\r\n  border-bottom: 2px solid #9dd9d2;\r\n`;\r\n\r\nconst Ul = styled.ul`\r\n  padding: 0.5rem 0;\r\n`;\r\n\r\nconst Li = styled.li`\r\n  color: #333;\r\n  border-bottom: 1px solid #ddd;\r\n  padding: 0.5rem 0.25rem;\r\n  font-size: 1.1rem;\r\n`;\r\n\r\nconst Buttons = styled.div`\r\n  display: flex;\r\n  justify-content: space-between;\r\n  button:last-child {\r\n    margin-left: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst Date = styled.span`\r\n  font-size: 0.8rem;\r\n  font-weight: 400;\r\n  color: #6a6a6a;\r\n`;\r\n\r\nconst Poll = () => {\r\n  const [poll, setPoll] = useState();\r\n  const [checkedChoice, setCheckedChoice] = useState('');\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const history = useHistory();\r\n  const id = useParams().id;\r\n  const { iCanVote, voteLocal } = useLocalVotes(id);\r\n\r\n  useEffect(() => {\r\n    // if poll id is in localStorage, get pushed to poll results\r\n    iCanVote()\r\n      ? getOne(id).then((data) => {\r\n          setPoll(data);\r\n          setIsLoading(false);\r\n        })\r\n      : history.push(`/polls/${id}/results`);\r\n  }, [history, iCanVote, id]);\r\n\r\n  const checkHandler = (choice) => {\r\n    setCheckedChoice(choice);\r\n  };\r\n\r\n  const handleSubmit = (poll) => {\r\n    const choices = [...JSON.parse(poll.choices)];\r\n    choices.forEach((c, i) => {\r\n      if (c[0] === checkedChoice) {\r\n        choices[i][1]++;\r\n      }\r\n    });\r\n    voteOne({ ...poll, choices }).then((p) => {\r\n      history.push(`/polls/${poll.id}/results`);\r\n    });\r\n    voteLocal(id);\r\n  };\r\n\r\n  const handleCopy = () => {\r\n    navigator.clipboard.writeText(window.location.href);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {isLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        <>\r\n          <H2>\r\n            {poll.question} <Date>{poll.created_at.slice(0, 10)}</Date>{' '}\r\n          </H2>\r\n          <Ul>\r\n            {JSON.parse(poll.choices).map(([choice], i) => (\r\n              <Li key={i}>\r\n                <label>\r\n                  <input\r\n                    onChange={() => checkHandler(choice)}\r\n                    checked={checkedChoice === choice}\r\n                    name=\"choice\"\r\n                    type=\"radio\"\r\n                  />{' '}\r\n                  {choice}\r\n                </label>\r\n              </Li>\r\n            ))}\r\n          </Ul>\r\n          <Buttons>\r\n            <Button\r\n              onClick={() => handleSubmit(poll)}\r\n              size=\"large\"\r\n              primary={true}\r\n            >\r\n              Submit\r\n            </Button>\r\n            <div>\r\n              <Link to={`/polls/${poll.id}/results`}>\r\n                <Button size=\"large\">Results</Button>\r\n              </Link>\r\n              <Button onClick={handleCopy} size=\"large\">\r\n                Copy link\r\n              </Button>\r\n            </div>\r\n          </Buttons>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Poll;\r\n","import styled from 'styled-components';\r\n\r\nconst Div = styled.div`\r\n  max-width: 100%;\r\n  padding: 0.5rem 2rem;\r\n  margin: 0rem 2rem;\r\n  border: 1px solid #ddd;\r\n  border-radius: 10px;\r\n  box-shadow: 0px 2px 5px #ccc;\r\n  background: #fff;\r\n\r\n  @media screen and (max-width: 1024px) {\r\n    margin: 0 0.5rem;\r\n  }\r\n  @media screen and (max-width: 425px) {\r\n    margin: 0 0.25rem;\r\n    padding: 0.5rem 0.75rem;\r\n  }\r\n`;\r\n\r\nconst PollBox = ({ children }) => {\r\n  return <Div>{children}</Div>;\r\n};\r\n\r\nexport default PollBox;\r\n","import styled from 'styled-components';\r\n\r\nconst Input = styled.input`\r\n  color: #333;\r\n  border: none;\r\n  border-bottom: solid ${(props) => (props.size ? '2px #9DD9D2' : '1px #aaa')};\r\n  padding: 0.75rem 0.5rem;\r\n  width: 100%;\r\n  font-size: ${(props) => (props.size ? '1.25rem' : '1.1rem')};\r\n  :focus {\r\n    outline: 2px solid #ff8811;\r\n  }\r\n`;\r\n\r\nconst InputText = ({ placeholder, size, onChange }) => {\r\n  return (\r\n    <Input\r\n      onChange={onChange}\r\n      type=\"text\"\r\n      placeholder={placeholder}\r\n      size={size}\r\n    />\r\n  );\r\n};\r\n\r\nexport default InputText;\r\n","import { createPortal } from 'react-dom';\r\nimport styled from 'styled-components';\r\n\r\nconst Background = styled.div`\r\n  position: absolute;\r\n  background: hsla(0, 0%, 0%, 0.6);\r\n  top: 0;\r\n  right: 0;\r\n  bottom: 0;\r\n  left: 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nconst ModalBox = styled.div`\r\n  color: #333;\r\n  text-align: center;\r\n  width: 600px;\r\n  height: 300px;\r\n  padding: 1rem 2rem;\r\n  background: #fafafa;\r\n  border-radius: 10px;\r\n  border: 1px solid #aaa;\r\n  box-shadow: 0px 2px 5px #444;\r\n  flex-shrink: none;\r\n  position: relative; /* for ButtonX */\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  h3 {\r\n    font-size: 2.5rem;\r\n    font-weight: 500;\r\n    display: block;\r\n    align-self: center;\r\n  }\r\n`;\r\n\r\nconst ButtonX = styled.button`\r\n  color: #c33c54;\r\n  border: none;\r\n  font-weight: 600;\r\n  font-size: 2rem;\r\n  background: none;\r\n  position: absolute;\r\n  top: 12px;\r\n  right: 18px;\r\n  cursor: pointer;\r\n  :hover {\r\n    text-shadow: 1px 1px 1px #aaa;\r\n  }\r\n`;\r\n\r\nconst Modal = ({ message, onClick }) => {\r\n  return createPortal(\r\n    <Background onClick={onClick}>\r\n      <ModalBox onClick={(e) => e.stopPropagation()}>\r\n        <ButtonX onClick={onClick}>X</ButtonX>\r\n        <h3>{message}</h3>\r\n      </ModalBox>{' '}\r\n    </Background>,\r\n    document.getElementById('modal')\r\n  );\r\n};\r\n\r\nexport default Modal;\r\n","import { useState } from 'react';\r\n\r\nconst useModal = (msg) => {\r\n  const [modalMsg, setMessage] = useState(msg || '');\r\n  const setModal = (message) => setMessage(message);\r\n  const removeModal = () => setMessage();\r\n  return { modalMsg, setModal, removeModal };\r\n};\r\n\r\nexport default useModal;\r\n","import { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nimport InputText from './InputText';\r\nimport Button from './Button';\r\nimport Modal from './Modal';\r\nimport useModal from '../hooks/useModal';\r\nimport { createOne } from '../services/pollService';\r\n\r\nconst Form = styled.form`\r\n  font-size: 1.1rem;\r\n  button {\r\n    margin-top: 0.5rem;\r\n  }\r\n`;\r\n\r\nconst PollForm = () => {\r\n  const history = useHistory();\r\n  const [question, setQuestion] = useState('');\r\n  const [choices, setChoices] = useState(['', '', '']);\r\n  const [isPrivate, setIsPrivate] = useState(false);\r\n\r\n  const { modalMsg, setModal, removeModal } = useModal();\r\n\r\n  const changeChoiceAtIndex = (index, value) => {\r\n    const choicesCopy = [...choices];\r\n    choicesCopy[index] = value;\r\n    setChoices(choicesCopy);\r\n  };\r\n\r\n  const choiceRenderer = () => {\r\n    if (choices.slice(-1)[0] !== '' && choices.length < 20) {\r\n      setChoices([...choices, '']);\r\n    }\r\n    return choices.map((choice, i) => (\r\n      <InputText\r\n        key={i}\r\n        value={choice}\r\n        onChange={(e) => changeChoiceAtIndex(i, e.target.value)}\r\n        placeholder=\"Enter choice\"\r\n      />\r\n    ));\r\n  };\r\n\r\n  const duplicatesExist = (arr) => {\r\n    const filteredArr = arr.filter((c) => c !== '');\r\n    return new Set(filteredArr).size !== filteredArr.length;\r\n  };\r\n\r\n  const handleFormSubmit = (e) => {\r\n    e.preventDefault();\r\n\r\n    const filteredChoices = choices.filter((c) => c !== '');\r\n    if (filteredChoices.length < 2) {\r\n      return setModal('Please provide at least 2 choices.');\r\n    }\r\n\r\n    if (duplicatesExist(choices)) {\r\n      return setModal('Please remove duplicate choices.');\r\n    }\r\n\r\n    const choicesJson = JSON.stringify(\r\n      filteredChoices.map((choice) => [choice, 0])\r\n    );\r\n    const poll = { question, choices: choicesJson, isPrivate };\r\n\r\n    createOne(poll).then((createdPoll) => {\r\n      history.push(`/polls/${createdPoll.id}`);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <Form onSubmit={handleFormSubmit}>\r\n      {modalMsg && <Modal onClick={removeModal} message={modalMsg} />}\r\n      <label>\r\n        <InputText\r\n          value={question}\r\n          onChange={(e) => setQuestion(e.target.value)}\r\n          size=\"large\"\r\n          placeholder=\"Type question here\"\r\n        />\r\n      </label>\r\n      {choiceRenderer()}\r\n      <Button type=\"submit\" size=\"large\" primary={true}>\r\n        Submit\r\n      </Button>{' '}\r\n      <label>\r\n        <input\r\n          type=\"checkbox\"\r\n          checked={isPrivate}\r\n          onChange={() => setIsPrivate(!isPrivate)}\r\n        />{' '}\r\n        Private\r\n      </label>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default PollForm;\r\n","import { Link } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport Button from './Button';\r\n\r\nconst Li = styled.li`\r\n  border-bottom: 1px solid #ddd;\r\n  padding: 0.5rem;\r\n  color: #333;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  p {\r\n    font-size: 1.25rem;\r\n    font-weight: 500;\r\n  }\r\n  :last-child {\r\n    border-bottom: none;\r\n  }\r\n  :hover {\r\n    background: #fafafa;\r\n  }\r\n`;\r\n\r\nconst PollLi = ({ question, id }) => {\r\n  return (\r\n    <Li>\r\n      {question && (\r\n        <>\r\n          <p>{question.question}</p>\r\n          <Link to={`/polls/${id}`}>\r\n            <Button primary={true}>Vote</Button>\r\n          </Link>\r\n        </>\r\n      )}\r\n    </Li>\r\n  );\r\n};\r\n\r\nexport default PollLi;\r\n","import { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport PollLi from './PollLi';\r\n\r\nimport { getAll } from '../services/pollService';\r\nimport Loader from './Loader';\r\n\r\nconst Ul = styled.ul`\r\n  min-height: 100%;\r\n`;\r\n\r\nconst PollList = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [polls, setPolls] = useState([]);\r\n\r\n  useEffect(() => {\r\n    getAll().then((data) => {\r\n      setPolls(data);\r\n      setIsLoading(false);\r\n    });\r\n  }, []);\r\n\r\n  return (\r\n    <Ul>\r\n      {isLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        polls.map((p) => <PollLi key={p.id} question={p} id={p.id} />)\r\n      )}\r\n    </Ul>\r\n  );\r\n};\r\n\r\nexport default PollList;\r\n","import { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\n\r\nimport { getOne } from '../services/pollService';\r\nimport Button from './Button';\r\nimport Loader from './Loader';\r\n\r\nconst Div = styled.div``;\r\n\r\nconst H2 = styled.h2`\r\n  font-size: 2rem;\r\n  font-weight: 600;\r\n  color: #333;\r\n  padding: 0.5rem 0;\r\n  border-bottom: 2px solid #9dd9d2;\r\n`;\r\n\r\nconst Ul = styled.ul`\r\n  padding: 0.5rem 0;\r\n  width: 100%;\r\n`;\r\n\r\nconst Li = styled.li`\r\n  color: #333;\r\n  border-bottom: 1px solid #ddd;\r\n  padding: 0.5rem 0.25rem;\r\n  font-size: 1.25rem;\r\n  display: flex;\r\n  justify-content: space-between;\r\n\r\n  :first-child > p {\r\n    font-size: 2rem;\r\n  }\r\n  :nth-child(2) > p {\r\n    font-size: 1.75rem;\r\n  }\r\n  :nth-child(3) > p {\r\n    font-size: 1.5rem;\r\n  }\r\n  p > span {\r\n    color: #6a6a6a;\r\n    font-size: 1rem;\r\n    /* vertical-align: top; */\r\n  }\r\n`;\r\n\r\nconst Date = styled.span`\r\n  font-size: 0.8rem;\r\n  font-weight: 400;\r\n  color: #6a6a6a;\r\n`;\r\n\r\nconst PollRes = () => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [poll, setPoll] = useState();\r\n  const id = useParams().id;\r\n\r\n  useEffect(() => {\r\n    getOne(id).then((res) => {\r\n      setPoll(res);\r\n      setIsLoading(false);\r\n    });\r\n  }, [id]);\r\n\r\n  const sortedChoices =\r\n    poll && JSON.parse(poll.choices).sort((a, b) => b[1] - a[1]);\r\n\r\n  const votesTotal =\r\n    sortedChoices && sortedChoices.reduce((acc, [c, v]) => acc + v, 0);\r\n\r\n  return (\r\n    <Div>\r\n      {isLoading ? (\r\n        <Loader />\r\n      ) : (\r\n        poll && (\r\n          <>\r\n            <H2>\r\n              {poll.question} <Date>{poll.created_at.slice(0, 10)}</Date>\r\n            </H2>\r\n            <Ul>\r\n              {sortedChoices.map(([choice, votes], i) => (\r\n                <Li key={i}>\r\n                  <p>{choice}</p>\r\n                  <p>\r\n                    <span>{Math.round((votes / votesTotal) * 100) || 0}%</span>{' '}\r\n                    {votes}\r\n                  </p>\r\n                </Li>\r\n              ))}\r\n            </Ul>\r\n            <Button\r\n              size=\"large\"\r\n              onClick={() => {\r\n                navigator.clipboard.writeText(window.location.href);\r\n              }}\r\n            >\r\n              Copy link\r\n            </Button>\r\n          </>\r\n        )\r\n      )}\r\n    </Div>\r\n  );\r\n};\r\n\r\nexport default PollRes;\r\n","import {\n  BrowserRouter as Router,\n  Redirect,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport Footer from './components/Footer';\nimport Navbar from './components/Navbar';\nimport Poll from './components/Poll';\nimport PollBox from './components/PollBox';\nimport PollForm from './components/PollForm';\nimport PollList from './components/PollList';\nimport PollRes from './components/PollRes';\n\nconst CoverDiv = styled.div`\n  height: 100%;\n  width: 100%;\n  background: #fafafa;\n`;\n\nconst Div = styled.div`\n  min-height: 100vh;\n  width: 60%;\n  margin: auto;\n  background: #fafafa;\n  @media screen and (max-width: 1024px) {\n    width: 90%;\n  }\n  @media screen and (max-width: 425px) {\n    width: 99%;\n  }\n`;\n\nfunction App() {\n  return (\n    <Router>\n      <CoverDiv>\n        <Div>\n          <Navbar />\n          <PollBox>\n            <Switch>\n              <Route exact path=\"/polls/:id/results\" component={PollRes} />\n\n              <Route exact path=\"/polls/:id\" component={Poll} />\n\n              <Route exact path=\"/create-poll\" component={PollForm} />\n              <Route exact path=\"/\" component={PollList} />\n              <Route>\n                <Redirect to=\"/\" />\n              </Route>\n            </Switch>\n          </PollBox>\n          <Footer />\n        </Div>\n      </CoverDiv>\n    </Router>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}