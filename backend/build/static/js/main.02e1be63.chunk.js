(this["webpackJsonppoll-app"]=this["webpackJsonppoll-app"]||[]).push([[0],{35:function(n,e,t){},43:function(n,e,t){"use strict";t.r(e);var r=t(0),c=t(1),i=t(20),a=t.n(i),o=(t(35),t(2)),s=t(10),u=t(4),d=t(3);function l(){var n=Object(o.a)(["\n  height: 60px;\n  width: 100%;\n  margin-top: auto;\n  text-align: center;\n  margin-top: 0.5rem;\n  padding: 1rem;\n\n  font-size: 1.25rem;\n\n  a {\n    font-size: 1.5rem;\n    text-decoration: none;\n    color: #ff8811;\n    transition: all 0.2s ease;\n    :hover {\n      text-decoration: underline;\n    }\n  }\n  ion-icon {\n    font-size: 2rem;\n    vertical-align: bottom;\n  }\n"]);return l=function(){return n},n}var f=d.a.footer(l()),j=function(){return Object(r.jsx)(f,{children:Object(r.jsxs)("p",{children:["Site made by"," ",Object(r.jsxs)("a",{href:"https://github.com/Arelera",target:"_",children:["Arel ",Object(r.jsx)("ion-icon",{name:"logo-github"})]})]})})};function b(){var n=Object(o.a)(["\n  height: 60px;\n  width: 100%;\n  padding: 3rem 2.5rem;\n\n  background: #fafafa;\n  display: flex;\n  align-items: center;\n\n  a {\n    text-decoration: none;\n    color: #111;\n    :last-child {\n      margin: 0 auto;\n    }\n  }\n  h1 {\n    font-family: 'Arvo';\n    font-size: 3.5rem;\n    color: #ff8811;\n    text-shadow: 3px 3px 0px #392f5a;\n\n    transition: all 0.2s ease;\n    :hover {\n      text-shadow: 3px 3px 0px #9dd9d2;\n    }\n  }\n\n  p {\n    font-size: 1.5rem;\n    transition: all 0.2s ease;\n\n    :hover {\n      text-decoration: underline;\n      color: #9dd9d2;\n    }\n  }\n\n  .selected {\n    text-decoration: underline;\n    text-decoration-color: #9dd9d2;\n  }\n  @media screen and (max-width: 425px) {\n    padding: 2.5rem 0rem;\n  }\n"]);return b=function(){return n},n}var p=d.a.nav(b()),h=function(){return Object(r.jsxs)(p,{children:[Object(r.jsx)(s.c,{to:"/",children:Object(r.jsx)("h1",{children:"POLLLO"})}),Object(r.jsx)(s.c,{activeClassName:"selected",to:"/create-poll",children:Object(r.jsx)("p",{children:"Create Poll"})})]})},x=t(14),O=t(12),m=t(5);function v(){var n=Object(o.a)(["\n  font-weight: 600;\n  font-size: 1rem;\n  border: 1px solid ",";\n  box-shadow: 0px 2px 5px #ddd;\n  border-radius: 8px;\n  min-height: 35px;\n  padding: ",";\n\n  background: ",";\n  color: ",";\n  :hover {\n    background: ",";\n    color: ",";\n  }\n  cursor: pointer;\n"]);return v=function(){return n},n}var g=d.a.button(v(),(function(n){return n.primary?"#ddd":"#FF8811"}),(function(n){return"large"===n.size?"12px 24px":"6px 10px"}),(function(n){return n.primary?"#FF8811":"transparent"}),(function(n){return n.primary?"#FFF8F0":"#333"}),(function(n){return n.primary?"#E07000":"#fafafafa"}),(function(n){return n.primary?"#FFF8F0":"#333"})),w=function(n){var e=n.children,t=n.onClick,c=n.primary,i=n.size;return Object(r.jsx)(g,{primary:c,size:i,onClick:t,children:e})},y=t(11),z=t.n(y),k=t(19),S="/api/polls",C=function(){var n=Object(k.a)(z.a.mark((function n(){var e;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch(S);case 2:return e=n.sent,n.next=5,e.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),F=function(){var n=Object(k.a)(z.a.mark((function n(e){var t;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fetch("".concat(S,"/").concat(e));case 2:return t=n.sent,n.next=5,t.json();case 5:return n.abrupt("return",n.sent);case 6:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),P=function(){var n=Object(k.a)(z.a.mark((function n(e){var t,r;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(S,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return t=n.sent,n.next=6,t.json();case 6:return r=n.sent,n.abrupt("return",r);case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}(),J=function(){var n=Object(k.a)(z.a.mark((function n(e){var t,r,c;return z.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t=Object(x.a)(Object(x.a)({},e),{},{choices:JSON.stringify(e.choices)}),n.prev=1,n.next=4,fetch(S,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 4:return r=n.sent,n.next=7,r;case 7:return c=n.sent,n.abrupt("return",c);case 11:n.prev=11,n.t0=n.catch(1),console.log(n.t0);case 14:case"end":return n.stop()}}),n,null,[[1,11]])})));return function(e){return n.apply(this,arguments)}}();function N(){var n=Object(o.a)(["\n  font-size: 6rem;\n  text-align: center;\n  color: #ff8811;\n  line-height: 1.2;\n  padding: 1rem;\n  h3 {\n    font-size: 3rem;\n    color: #ff8811;\n  }\n\n  ion-icon {\n    animation: "," 1s linear infinite;\n  }\n"]);return N=function(){return n},n}function E(){var n=Object(o.a)(["\n  from {\n    transform: rotate(0deg);\n  }\n\n  to {\n    transform: rotate(360deg);\n  }\n"]);return E=function(){return n},n}var q=Object(d.b)(E()),M=d.a.div(N(),q),T=function(){return Object(r.jsxs)(M,{children:[Object(r.jsx)("ion-icon",{name:"reload-circle"}),Object(r.jsx)("h3",{children:"Loading"})]})},L=function(n){var e=Object(c.useState)(JSON.parse(window.localStorage.getItem("votedPolls"))||[]),t=Object(m.a)(e,1)[0];return{iCanVote:function(){return!t.includes(n)},voteLocal:function(){window.localStorage.setItem("votedPolls",JSON.stringify([].concat(Object(O.a)(t),[n])))}}};function D(){var n=Object(o.a)(["\n  font-size: 0.8rem;\n  font-weight: 400;\n  color: #6a6a6a;\n"]);return D=function(){return n},n}function I(){var n=Object(o.a)(["\n  display: flex;\n  justify-content: space-between;\n  button:last-child {\n    margin-left: 0.5rem;\n  }\n"]);return I=function(){return n},n}function A(){var n=Object(o.a)(["\n  color: #333;\n  border-bottom: 1px solid #ddd;\n  padding: 0.5rem 0.25rem;\n  font-size: 1.1rem;\n"]);return A=function(){return n},n}function B(){var n=Object(o.a)(["\n  padding: 0.5rem 0;\n"]);return B=function(){return n},n}function V(){var n=Object(o.a)(["\n  font-size: 1.75rem;\n  color: #333;\n  padding: 0.5rem 0;\n  border-bottom: 2px solid #9dd9d2;\n"]);return V=function(){return n},n}var _=d.a.h2(V()),X=d.a.ul(B()),R=d.a.li(A()),U=d.a.div(I()),G=d.a.span(D()),H=function(){var n=Object(c.useState)(),e=Object(m.a)(n,2),t=e[0],i=e[1],a=Object(c.useState)(""),o=Object(m.a)(a,2),d=o[0],l=o[1],f=Object(c.useState)(!0),j=Object(m.a)(f,2),b=j[0],p=j[1],h=Object(u.g)(),v=Object(u.h)().id,g=L(v),y=g.iCanVote,z=g.voteLocal;Object(c.useEffect)((function(){y()?F(v).then((function(n){i(n),p(!1)})):h.push("/polls/".concat(v,"/results"))}),[h,y,v]);return Object(r.jsx)("div",{children:b?Object(r.jsx)(T,{}):Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(_,{children:[t.question," ",Object(r.jsx)(G,{children:t.created_at.slice(0,10)})," "]}),Object(r.jsx)(X,{children:JSON.parse(t.choices).map((function(n,e){var t=Object(m.a)(n,1)[0];return Object(r.jsx)(R,{children:Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{onChange:function(){return function(n){l(n)}(t)},checked:d===t,name:"choice",type:"radio"})," ",t]})},e)}))}),Object(r.jsxs)(U,{children:[Object(r.jsx)(w,{onClick:function(){return function(n){var e=Object(O.a)(JSON.parse(n.choices));e.forEach((function(n,t){n[0]===d&&e[t][1]++})),J(Object(x.a)(Object(x.a)({},n),{},{choices:e})).then((function(e){h.push("/polls/".concat(n.id,"/results"))})),z(v)}(t)},size:"large",primary:!0,children:"Submit"}),Object(r.jsxs)("div",{children:[Object(r.jsx)(s.b,{to:"/polls/".concat(t.id,"/results"),children:Object(r.jsx)(w,{size:"large",children:"Results"})}),Object(r.jsx)(w,{onClick:function(){navigator.clipboard.writeText(window.location.href)},size:"large",children:"Copy link"})]})]})]})})};function K(){var n=Object(o.a)(["\n  max-width: 100%;\n  padding: 0.5rem 2rem;\n  margin: 0rem 2rem;\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  box-shadow: 0px 2px 5px #ccc;\n  background: #fff;\n\n  @media screen and (max-width: 1024px) {\n    margin: 0 0.5rem;\n  }\n  @media screen and (max-width: 425px) {\n    margin: 0 0.25rem;\n    padding: 0.5rem 0.75rem;\n  }\n"]);return K=function(){return n},n}var Q=d.a.div(K()),W=function(n){var e=n.children;return Object(r.jsx)(Q,{children:e})};function Y(){var n=Object(o.a)(["\n  color: #333;\n  border: none;\n  border-bottom: solid ",";\n  padding: 0.75rem 0.5rem;\n  width: 100%;\n  font-size: ",";\n  :focus {\n    outline: 2px solid #ff8811;\n  }\n"]);return Y=function(){return n},n}var Z=d.a.input(Y(),(function(n){return n.size?"2px #9DD9D2":"1px #aaa"}),(function(n){return n.size?"1.25rem":"1.1rem"})),$=function(n){var e=n.placeholder,t=n.size,c=n.onChange;return Object(r.jsx)(Z,{onChange:c,type:"text",placeholder:e,size:t})};function nn(){var n=Object(o.a)(["\n  color: #c33c54;\n  border: none;\n  font-weight: 600;\n  font-size: 2rem;\n  background: none;\n  position: absolute;\n  top: 12px;\n  right: 18px;\n  cursor: pointer;\n  :hover {\n    text-shadow: 1px 1px 1px #aaa;\n  }\n"]);return nn=function(){return n},n}function en(){var n=Object(o.a)(["\n  color: #333;\n  text-align: center;\n  width: 600px;\n  height: 300px;\n  padding: 1rem 2rem;\n  background: #fafafa;\n  border-radius: 10px;\n  border: 1px solid #aaa;\n  box-shadow: 0px 2px 5px #444;\n  flex-shrink: none;\n  position: relative; /* for ButtonX */\n\n  display: flex;\n  justify-content: center;\n  h3 {\n    font-size: 2.5rem;\n    font-weight: 500;\n    display: block;\n    align-self: center;\n  }\n"]);return en=function(){return n},n}function tn(){var n=Object(o.a)(["\n  position: absolute;\n  background: hsla(0, 0%, 0%, 0.6);\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n"]);return tn=function(){return n},n}var rn=d.a.div(tn()),cn=d.a.div(en()),an=d.a.button(nn()),on=function(n){var e=n.message,t=n.onClick;return Object(i.createPortal)(Object(r.jsxs)(rn,{onClick:t,children:[Object(r.jsxs)(cn,{onClick:function(n){return n.stopPropagation()},children:[Object(r.jsx)(an,{onClick:t,children:"X"}),Object(r.jsx)("h3",{children:e})]})," "]}),document.getElementById("modal"))},sn=function(n){var e=Object(c.useState)(n||""),t=Object(m.a)(e,2),r=t[0],i=t[1];return{modalMsg:r,setModal:function(n){return i(n)},removeModal:function(){return i()}}};function un(){var n=Object(o.a)(["\n  font-size: 1.1rem;\n  button {\n    margin-top: 0.5rem;\n  }\n"]);return un=function(){return n},n}var dn=d.a.form(un()),ln=function(){var n=Object(u.g)(),e=Object(c.useState)(""),t=Object(m.a)(e,2),i=t[0],a=t[1],o=Object(c.useState)(["","",""]),s=Object(m.a)(o,2),d=s[0],l=s[1],f=Object(c.useState)(!1),j=Object(m.a)(f,2),b=j[0],p=j[1],h=sn(),x=h.modalMsg,v=h.setModal,g=h.removeModal;return Object(r.jsxs)(dn,{onSubmit:function(e){e.preventDefault();var t=d.filter((function(n){return""!==n}));if(t.length<2)return v("Please provide at least 2 choices.");if(function(n){var e=n.filter((function(n){return""!==n}));return new Set(e).size!==e.length}(d))return v("Please remove duplicate choices.");var r=JSON.stringify(t.map((function(n){return[n,0]})));P({question:i,choices:r,isPrivate:b}).then((function(e){n.push("/polls/".concat(e.id))}))},children:[x&&Object(r.jsx)(on,{onClick:g,message:x}),Object(r.jsx)("label",{children:Object(r.jsx)($,{value:i,onChange:function(n){return a(n.target.value)},size:"large",placeholder:"Type question here"})}),(""!==d.slice(-1)[0]&&d.length<20&&l([].concat(Object(O.a)(d),[""])),d.map((function(n,e){return Object(r.jsx)($,{value:n,onChange:function(n){return function(n,e){var t=Object(O.a)(d);t[n]=e,l(t)}(e,n.target.value)},placeholder:"Enter choice"},e)}))),Object(r.jsx)(w,{type:"submit",size:"large",primary:!0,children:"Submit"})," ",Object(r.jsxs)("label",{children:[Object(r.jsx)("input",{type:"checkbox",checked:b,onChange:function(){return p(!b)}})," ","Private"]})]})};function fn(){var n=Object(o.a)(["\n  border-bottom: 1px solid #ddd;\n  padding: 0.5rem;\n  color: #333;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  p {\n    font-size: 1.25rem;\n    font-weight: 500;\n  }\n  :last-child {\n    border-bottom: none;\n  }\n  :hover {\n    background: #fafafa;\n  }\n"]);return fn=function(){return n},n}var jn=d.a.li(fn()),bn=function(n){var e=n.question,t=n.id;return Object(r.jsx)(jn,{children:e&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("p",{children:e.question}),Object(r.jsx)(s.b,{to:"/polls/".concat(t),children:Object(r.jsx)(w,{primary:!0,children:"Vote"})})]})})};function pn(){var n=Object(o.a)(["\n  min-height: 100%;\n"]);return pn=function(){return n},n}var hn=d.a.ul(pn()),xn=function(){var n=Object(c.useState)(!0),e=Object(m.a)(n,2),t=e[0],i=e[1],a=Object(c.useState)([]),o=Object(m.a)(a,2),s=o[0],u=o[1];return Object(c.useEffect)((function(){C().then((function(n){u(n),i(!1)}))}),[]),Object(r.jsx)(hn,{children:t?Object(r.jsx)(T,{}):s.map((function(n){return Object(r.jsx)(bn,{question:n,id:n.id},n.id)}))})};function On(){var n=Object(o.a)(["\n  font-size: 0.8rem;\n  font-weight: 400;\n  color: #6a6a6a;\n"]);return On=function(){return n},n}function mn(){var n=Object(o.a)(["\n  color: #333;\n  border-bottom: 1px solid #ddd;\n  padding: 0.5rem 0.25rem;\n  font-size: 1.25rem;\n  display: flex;\n  justify-content: space-between;\n\n  :first-child > p {\n    font-size: 2rem;\n  }\n  :nth-child(2) > p {\n    font-size: 1.75rem;\n  }\n  :nth-child(3) > p {\n    font-size: 1.5rem;\n  }\n  p > span {\n    color: #6a6a6a;\n    font-size: 1rem;\n    /* vertical-align: top; */\n  }\n"]);return mn=function(){return n},n}function vn(){var n=Object(o.a)(["\n  padding: 0.5rem 0;\n  width: 100%;\n"]);return vn=function(){return n},n}function gn(){var n=Object(o.a)(["\n  font-size: 2rem;\n  font-weight: 600;\n  color: #333;\n  padding: 0.5rem 0;\n  border-bottom: 2px solid #9dd9d2;\n"]);return gn=function(){return n},n}function wn(){var n=Object(o.a)([""]);return wn=function(){return n},n}var yn=d.a.div(wn()),zn=d.a.h2(gn()),kn=d.a.ul(vn()),Sn=d.a.li(mn()),Cn=d.a.span(On()),Fn=function(){var n=Object(c.useState)(!0),e=Object(m.a)(n,2),t=e[0],i=e[1],a=Object(c.useState)(),o=Object(m.a)(a,2),s=o[0],d=o[1],l=Object(u.h)().id;Object(c.useEffect)((function(){F(l).then((function(n){d(n),i(!1)}))}),[l]);var f=s&&JSON.parse(s.choices).sort((function(n,e){return e[1]-n[1]})),j=f&&f.reduce((function(n,e){var t=Object(m.a)(e,2);t[0];return n+t[1]}),0);return Object(r.jsx)(yn,{children:t?Object(r.jsx)(T,{}):s&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(zn,{children:[s.question," ",Object(r.jsx)(Cn,{children:s.created_at.slice(0,10)})]}),Object(r.jsx)(kn,{children:f.map((function(n,e){var t=Object(m.a)(n,2),c=t[0],i=t[1];return Object(r.jsxs)(Sn,{children:[Object(r.jsx)("p",{children:c}),Object(r.jsxs)("p",{children:[Object(r.jsxs)("span",{children:[Math.round(i/j*100)||0,"%"]})," ",i]})]},e)}))}),Object(r.jsx)(w,{size:"large",onClick:function(){navigator.clipboard.writeText(window.location.href)},children:"Copy link"})]})})};function Pn(){var n=Object(o.a)(["\n  min-height: 100vh;\n  width: 60%;\n  margin: auto;\n  background: #fafafa;\n  @media screen and (max-width: 1024px) {\n    width: 90%;\n  }\n  @media screen and (max-width: 425px) {\n    width: 99%;\n  }\n"]);return Pn=function(){return n},n}function Jn(){var n=Object(o.a)(["\n  height: 100%;\n  width: 100%;\n  background: #fafafa;\n"]);return Jn=function(){return n},n}var Nn=d.a.div(Jn()),En=d.a.div(Pn());var qn=function(){return Object(r.jsx)(s.a,{children:Object(r.jsx)(Nn,{children:Object(r.jsxs)(En,{children:[Object(r.jsx)(h,{}),Object(r.jsx)(W,{children:Object(r.jsxs)(u.d,{children:[Object(r.jsx)(u.b,{exact:!0,path:"/polls/:id/results",component:Fn}),Object(r.jsx)(u.b,{exact:!0,path:"/polls/:id",component:H}),Object(r.jsx)(u.b,{exact:!0,path:"/create-poll",component:ln}),Object(r.jsx)(u.b,{exact:!0,path:"/",component:xn}),Object(r.jsx)(u.b,{children:Object(r.jsx)(u.a,{to:"/"})})]})}),Object(r.jsx)(j,{})]})})})};a.a.render(Object(r.jsx)(qn,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.02e1be63.chunk.js.map